{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","utils/api.js","components/ImagePopup.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/App.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","useState","card","likes","some","i","_id","liked","setLiked","isOwn","owner","onClick","onCardDelete","type","onCardClick","link","name","onCardLike","likeCounter","Main","loader","onEditAvatar","avatar","onEditProfile","about","onAddCard","cards","map","length","Footer","date","Date","getFullYear","api","config","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_responseResult","data","body","JSON","stringify","isLikes","addLike","deleteLike","authorization","ImagePopup","onClose","PopupWithForm","isOpen","id","onSubmit","noValidate","title","children","submitText","AddPlacePopup","buttonText","setButtonText","setName","setLink","handleClosePopup","setTimeout","e","preventDefault","onAddPlace","finally","placeholder","minLength","maxLength","onChange","target","value","required","EditProfilePopup","description","setDescription","useEffect","onUpdateUser","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","ref","App","isEditProfilePopupOpen","setEditProfilePopupOpenClose","isAddCardPopupOpen","setAddCardPopupOpenClose","isEditAvatarPopupOpen","setEditAvatarPopupOpenClose","selectedCard","setSelectedCard","isImagePopupOpen","setIsImagePopupOpen","setCurrentUser","userInfoGet","setUserInfoGet","setCards","closeAllPopups","all","getUserData","getInitialCards","userInfo","cardList","catch","err","console","log","Provider","deleteCard","newCard","newCards","filter","c","isLiked","changeLikeCardStatus","updateUserData","result","addNewCard","updateAvatar","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.32c18234.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from \"react\";\nimport logo from \"../images/logo.svg\";\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img src={logo} alt=\"лого\" className=\"header__logo\" />\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [liked, setLiked] = React.useState(\n    props.card.likes.some((i) => i._id === currentUser._id)\n  );\n  const isOwn = props.card.owner._id === currentUser._id;\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function likeClick() {\n    setLiked(!liked);\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <>\n      <li className=\"card\">\n        <button\n          onClick={handleDeleteClick}\n          className={`card__trash ${isOwn ? \"card__trash_active\" : \"\"}`}\n          type=\"button\"\n        />\n        <img\n          className=\"card__images\"\n          onClick={handleClick}\n          src={props.card.link}\n          alt={props.card.name}\n        />\n        <div className=\"card__item\">\n          <h2 className=\"card__title\">{props.card.name}</h2>\n          <div className=\"card__wrap\">\n            <button\n              className={`card__like ${liked && \"card__like_active\"}`}\n              onClick={likeClick}\n              type=\"button\"\n            ></button>\n            <div className=\"card__count\">{props.likeCounter}</div>\n          </div>\n        </div>\n      </li>\n    </>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  return (\n    <>\n      <div className={`loading ${props.loader && \"hide\"}`}></div>\n      <section className=\"profile\">\n        <div className=\"profile__item\">\n          <div className=\"profile__item-container\">\n            <img\n              onClick={props.onEditAvatar}\n              src={currentUser.avatar}\n              alt=\"Фото профиля\"\n              className=\"profile__avatar\"\n            />\n          </div>\n          <div className=\"profile_text\">\n            <div className=\"profile__info\">\n              <h1 className=\"profile__title\">{currentUser.name || \"\"}</h1>\n              <button\n                className=\"profile__edit-button\"\n                onClick={props.onEditProfile}\n                type=\"button\"\n              ></button>\n            </div>\n            <p className=\"profile__subtitle\">{currentUser.about || \"\"}</p>\n          </div>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          onClick={props.onAddCard}\n          type=\"button\"\n        ></button>\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"cards\">\n          {props.cards.map((card) => (\n            <Card\n              key={card._id}\n              card={card}\n              onCardClick={props.onCardClick}\n              likeCounter={card.likes.length}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />\n          ))}\n        </ul>\n      </section>\n    </>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction Footer() {\n  const date = new Date().getFullYear();\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; {date} Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","class Api {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n\n  _responseResult(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      method: \"GET\",\n      headers: this._headers,\n    }).then((res) => {\n      return this._responseResult(res);\n    });\n  }\n  getUserData() {\n    return fetch(`${this._url}/users/me`, {\n      method: \"GET\",\n      headers: this._headers,\n    }).then((res) => {\n      return this._responseResult(res);\n    });\n  }\n  addNewCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link,\n      }),\n    }).then((res) => {\n      return this._responseResult(res);\n    });\n  }\n\n  deleteCard(data) {\n    return fetch(`${this._url}/cards/${data}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => {\n      return this._responseResult(res);\n    });\n  }\n\n  updateUserData(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(data),\n    }).then((res) => {\n      return this._responseResult(res);\n    });\n  }\n\n  changeLikeCardStatus(card, isLikes) {\n    if (isLikes) {\n      return this.addLike(card);\n    } else {\n      return this.deleteLike(card);\n    }\n  }\n\n  addLike(data) {\n    return fetch(`${this._url}/cards/likes/${data}`, {\n      method: \"PUT\",\n      headers: this._headers,\n    }).then((res) => {\n      return this._responseResult(res);\n    });\n  }\n\n  deleteLike(data) {\n    return fetch(`${this._url}/cards/likes/${data}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => {\n      return this._responseResult(res);\n    });\n  }\n\n  updateAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(data),\n    }).then((res) => {\n      return this._responseResult(res);\n    });\n  }\n}\n\nconst api = new Api({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-17\",\n  headers: {\n    authorization: \"1cc28c27-5ad4-4b72-97ab-db6c8b468da3\",\n    \"content-type\": \"application/json\",\n  },\n});\n\nexport default api;\n","function ImagePopup(props) {\n  return (\n    <div\n      className={`popup__container popup__container_image ${\n        props.card.link && \"popup_opened\"\n      }`}\n    >\n      <figure className=\"popup__image\">\n        <button\n          className=\"popup__close-button popup__close-button_img\"\n          onClick={props.onClose}\n          type=\"button\"\n        ></button>\n        <img\n          className=\"popup__images\"\n          src={`${props.card.link}`}\n          alt={props.card.name}\n        />\n        <figcaption className=\"popup__text\">{props.card.name}</figcaption>\n      </figure>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from \"react\";\n\nfunction PopupWithForm(props) {\n  return (\n    <div\n      className={`popup__container ${props.isOpen && \"popup_opened\"}`}\n      id={props.name}\n    >\n      <form\n        onSubmit={props.onSubmit}\n        className=\"popup__form\"\n        name={props.name}\n        noValidate\n      >\n        <button\n          className=\"popup__close-button\"\n          onClick={props.onClose}\n          type=\"button\"\n        ></button>\n        <h2 className=\"popup__title\">{props.title}</h2>\n        {props.children}\n        <button className=\"popup__button\" type=\"submit\">\n          {props.submitText}\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nfunction AddPlacePopup(props) {\n  const [buttonText, setButtonText] = React.useState(\"Создать\");\n  const [name, setName] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n  }\n  function handleClosePopup() {\n    props.onClose();\n    setTimeout(() => {\n      setName(\"\");\n      setLink(\"\");\n    }, 200);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    setButtonText(\"Создаем...\");\n    props\n      .onAddPlace({ name, link })\n      .then(() => handleClosePopup())\n      .finally(() => {\n        setButtonText(\"Создать\");\n      });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"image_add\"\n      title=\"Новое место\"\n      submitText={buttonText}\n      isOpen={props.isOpen}\n      onClose={handleClosePopup}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"popup__field\">\n        <input\n          type=\"text\"\n          className=\"popup__input popup__input_type_name-image\"\n          id=\"image-name-input\"\n          name=\"name\"\n          placeholder=\"Название\"\n          minLength=\"1\"\n          maxLength=\"30\"\n          onChange={handleNameChange}\n          value={name}\n          required\n        />\n        <span className=\"popup__input-error\" id=\"image-name-input-error\"></span>\n      </label>\n      <label className=\"popup__field\">\n        <input\n          type=\"url\"\n          className=\"popup__input popup__input_type_prof-link\"\n          id=\"image-source-input\"\n          name=\"link\"\n          placeholder=\"Ссылка на картинку\"\n          onChange={handleLinkChange}\n          value={link}\n          required\n        />\n        <span\n          className=\"popup__input-error\"\n          id=\"image-source-input-error\"\n        ></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n  const [buttonText, setButtonText] = React.useState(\"Сохранить\");\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n  function handleAboutChange(e) {\n    setDescription(e.target.value);\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    setButtonText(\"Загрузка...\");\n    props\n      .onUpdateUser({ name: name, about: description })\n      .then(() => props.onClose())\n      .finally(() => {\n        setButtonText(\"Сохранить\");\n      });\n  }\n\n  React.useEffect(() => {\n    if (props.isOpen === true) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    } // eslint-disable-next-line\n  }, [props.isOpen]);\n\n  return (\n    <PopupWithForm\n      name=\"form\"\n      title=\"Редактировать профиль\"\n      submitText={buttonText}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"popup__field\">\n        <input\n          className=\"popup__input popup__input_type_name\"\n          type=\"text\"\n          name=\"name\"\n          id=\"profile-name\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          value={name}\n          onChange={handleNameChange}\n          required\n        />\n        <span className=\"popup__input-error\" id=\"profile-name-error\"></span>\n      </label>\n      <label className=\"popup__field\">\n        <input\n          className=\"popup__input popup__input_type_prof\"\n          type=\"text\"\n          name=\"description\"\n          id=\"profile-prof\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          value={description}\n          onChange={handleAboutChange}\n          required\n        />\n        <span className=\"popup__input-error\" id=\"profile-prof-error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import PopupWithForm from \"./PopupWithForm.js\";\nimport React from \"react\";\n\nfunction EditAvatarPopup(props) {\n  const [buttonText, setButtonText] = React.useState(\"Сохранить\");\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    setButtonText(\"Загрузка...\");\n    props\n      .onUpdateAvatar({ avatar: avatarRef.current.value })\n      .then(() => {\n        handleClosePopup();\n      })\n      .finally(() => {\n        setButtonText(\"Сохранить\");\n      });\n  }\n\n  function handleClosePopup() {\n    props.onClose();\n    setTimeout(() => (avatarRef.current.value = \"\"), 200);\n  }\n\n  return (\n    <PopupWithForm\n      name=\"avatar_add\"\n      title=\"Обновить аватар\"\n      submitText={buttonText}\n      isOpen={props.isOpen}\n      onClose={handleClosePopup}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"popup__field\">\n        <input\n          ref={avatarRef}\n          type=\"url\"\n          className=\"popup__input popup__input_type_avatar-link\"\n          id=\"avatar-source-input\"\n          name=\"avatar\"\n          placeholder=\"Ссылка на картинку\"\n          required\n        />\n        <span\n          className=\"popup__input-error\"\n          id=\"avatar-source-input-error\"\n        ></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport api from \"../utils/api\";\nimport ImagePopup from \"./ImagePopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpenClose] = React.useState(\n    false\n  );\n  const [isAddCardPopupOpen, setAddCardPopupOpenClose] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpenClose] = React.useState(\n    false\n  );\n  const [selectedCard, setSelectedCard] = React.useState({\n    name: \"\",\n    link: \"\",\n  });\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [userInfoGet, setUserInfoGet] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    Promise.all([api.getUserData(), api.getInitialCards()])\n      .then(([userInfo, cardList]) => {\n        setCurrentUser(userInfo);\n        setCards(cardList);\n        setUserInfoGet(true);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpenClose(!isEditProfilePopupOpen);\n  }\n  function handleAddPlaceClick() {\n    setAddCardPopupOpenClose(!isAddCardPopupOpen);\n  }\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpenClose(!isEditAvatarPopupOpen);\n  }\n\n  function handleImagePopupOpen(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpen(!isImagePopupOpen);\n  }\n\n  function closeAllPopups() {\n    setEditProfilePopupOpenClose(false);\n    setAddCardPopupOpenClose(false);\n    setEditAvatarPopupOpenClose(false);\n    setIsImagePopupOpen(false);\n    setSelectedCard({ name: \"\", link: \"\" });\n  }\n\n  function handleUpdateUser(data) {\n    return api\n      .updateUserData(data)\n      .then((result) => {\n        setCurrentUser(result);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleUpdateAvatar(data) {\n    return api\n      .updateAvatar(data)\n      .catch((err) => console.log(err))\n      .then((result) => {\n        setCurrentUser(result);\n      });\n  }\n\n  function handleLikeClick(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        // Обновляем стейт\n        setCards(newCards);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleDeleteClick(card) {\n    api\n      .deleteCard(card._id)\n      .then((newCard) => {\n        const newCards = cards.filter((c) =>\n          c._id === card._id ? \"\" : newCard\n        );\n        setCards(newCards);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleAddPlaceSubmit(card) {\n    return api\n      .addNewCard(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  return (\n    <>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main\n          loader={userInfoGet}\n          onCardClick={handleImagePopupOpen}\n          onEditProfile={handleEditProfileClick}\n          onAddCard={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardDelete={handleDeleteClick}\n          onCardLike={handleLikeClick}\n          cards={cards}\n        />\n        <Footer />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddCardPopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        ></EditAvatarPopup>\n\n        <ImagePopup\n          card={selectedCard}\n          isOpen={isImagePopupOpen}\n          onClose={closeAllPopups}\n        />\n      </CurrentUserContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"../src/components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}